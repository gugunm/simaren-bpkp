{"version":3,"file":"js/129.899c6f1c.js","mappings":"2PAIkCA,MAAM,W,SACDA,MAAM,W,WAEmB,O,GACnDA,MAAM,Y,WAON,U,GAAMC,EAAAA,EAAAA,GAAmC,QAA7BD,MAAM,gBAAe,KAAC,G,GAEhCA,MAAM,Y,WAYR,a,GAASC,EAAAA,EAAAA,GAAmC,QAA7BD,MAAM,gBAAe,KAAC,G,GAEnCA,MAAM,Y,WAWR,sB,GAAkBC,EAAAA,EAAAA,GAAmC,QAA7BD,MAAM,gBAAe,KAAC,G,GAE5CA,MAAM,Y,GAcNA,MAAM,kB,WAkBR,Y,GAKAA,MAAM,iB,GACJA,MAAM,2B,GAEPA,MAAM,6D,GAEDA,MAAM,oD,GACFA,MAAM,mC,GACXC,EAAAA,EAAAA,GAwBQ,SAxBDD,MAAM,cAAY,EACvBC,EAAAA,EAAAA,GAsBK,YArBHA,EAAAA,EAAAA,GAKK,MAJHC,MAAM,MACNF,MAAM,kFACP,iBAGDC,EAAAA,EAAAA,GAKK,MAJHC,MAAM,MACNF,MAAM,kFACP,eAGDC,EAAAA,EAAAA,GAKK,MAJHC,MAAM,MACNF,MAAM,kFACP,sCAGDC,EAAAA,EAAAA,GAEK,MAFDC,MAAM,MAAMF,MAAM,sBAAtB,EACEC,EAAAA,EAAAA,GAAkC,QAA5BD,MAAM,WAAU,eArB5B,G,GAyBOA,MAAM,qC,aAETC,EAAAA,EAAAA,GAIK,MAJDE,QAAQ,KAAG,EACbF,EAAAA,EAAAA,GAEM,OAFDD,MAAM,kCAAiC,sBAD9C,G,GAAAI,G,GAOIJ,MAAM,a,GACHA,MAAM,yB,GAITA,MAAM,+B,GACHA,MAAM,yB,GAITA,MAAM,a,GACLA,MAAM,sC,GAKTA,MAAM,8D,yBA2BjB,W,WAeA,W,qBAKoD,Y,yUAxL/DK,EAAAA,EAAAA,IAAyDC,EAAA,CAAxCC,OAAQC,EAAAA,Q,iCAAAA,EAAAA,QAAOC,GAAG,gBAAc,GAAjD,oBACAJ,EAAAA,EAAAA,IA+LQK,GAAA,CA/LDV,MAAM,QAAM,C,kBACjB,IA6LY,EA7LZK,EAAAA,EAAAA,IA6LYM,GAAA,CA7LDX,MAAM,OAAK,C,kBACpB,IAA2D,CAA7C,UAAJY,EAAAA,OAAI,WAAdC,EAAAA,EAAAA,IAA2D,KAA3D,EAA4C,eACzB,UAAJD,EAAAA,OAAI,WAAnBC,EAAAA,EAAAA,IAA8D,KAA9D,EAAiD,cAAjD,eAC6B,UAAJD,EAAAA,OAAI,WAA7BE,EAAAA,EAAAA,IAKOC,EAAA,C,MALDf,MAAM,QAAZ,C,kBACE,IAAwE,EAAxEK,EAAAA,EAAAA,IAAwEW,EAAA,CAA5DC,IAAI,QAAQjB,MAAM,2BAA9B,C,kBAAwD,IAAG,M,OAC3DC,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJI,EAAAA,EAAAA,IAAgDa,EAAA,C,WAA3BV,EAAAA,SAASW,M,qCAATX,EAAAA,SAASW,MAAKV,GAAEW,SAAA,IAArC,4B,QAHJ,gBAMAf,EAAAA,EAAAA,IAmLQgB,GAAA,CAnLAC,UAAM,QAAUC,EAAAA,OAAM,cAA9B,C,kBACE,IAaO,EAbPlB,EAAAA,EAAAA,IAaOU,EAAA,CAbDf,MAAM,QAAM,C,kBAChB,IAEC,EAFDK,EAAAA,EAAAA,IAECW,EAAA,CAFWC,IAAI,QAAQjB,MAAM,2BAA9B,C,kBACG,IAAM,Q,OAETC,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJI,EAAAA,EAAAA,IAMEa,EAAA,CALAM,KAAK,SACLC,GAAG,Q,WACMjB,EAAAA,KAAKkB,M,qCAALlB,EAAAA,KAAKkB,MAAKjB,GACnBW,SAAA,GACAO,SAAA,IALF,4B,OASJtB,EAAAA,EAAAA,IAYOU,EAAA,CAZDf,MAAM,QAAM,C,kBAChB,IAEC,EAFDK,EAAAA,EAAAA,IAECW,EAAA,CAFWC,IAAI,WAAWjB,MAAM,2BAAjC,C,kBACG,IAAS,Q,OAEZC,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJI,EAAAA,EAAAA,IAKEa,EAAA,CAJAM,KAAK,OACLC,GAAG,W,WACMjB,EAAAA,KAAKoB,Q,qCAALpB,EAAAA,KAAKoB,QAAOnB,GACrBkB,SAAA,IAJF,4B,OAQJtB,EAAAA,EAAAA,IAgBOU,EAAA,CAhBDf,MAAM,QAAM,C,kBAChB,IAEC,EAFDK,EAAAA,EAAAA,IAECW,EAAA,CAFWC,IAAI,SAASjB,MAAM,2BAA/B,C,kBACG,IAAkB,Q,OAErBC,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJI,EAAAA,EAAAA,IASiBwB,EAAA,CARfJ,GAAG,S,WACMjB,EAAAA,e,qCAAAA,EAAAA,eAAcC,GACtBqB,QAAStB,EAAAA,cACVuB,YAAY,eACZC,MAAM,YACN,WAAS,YACR,eAAcT,EAAAA,kBAPjB,qD,OAYJlB,EAAAA,EAAAA,IAuBOU,EAAA,CAvBDf,MAAM,kBAAgB,C,kBAC1B,IAqBM,EArBNC,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJI,EAAAA,EAAAA,IAUiBwB,EAAA,CATfJ,GAAG,a,WACMjB,EAAAA,c,qCAAAA,EAAAA,cAAaC,GACrBqB,QAAStB,EAAAA,oBACVuB,YAAY,cACZC,MAAM,YACN,WAAS,YACTC,cAAc,GACdC,YAAY,IARd,kCAWA7B,EAAAA,EAAAA,IAQU8B,EAAA,CAPRX,KAAK,SACLxB,MAAM,uBACNoC,MAAM,UACNC,KAAK,KACJC,QAAK,eAAEf,EAAAA,SAASf,EAAAA,WALnB,C,kBAMC,IAED,M,kBAGJP,EAAAA,EAAAA,GAwEM,MAxEN,EAwEM,EAvEJA,EAAAA,EAAAA,GAsEM,MAtEN,EAsEM,EArEJA,EAAAA,EAAAA,GAoEM,MApEN,EAoEM,EAjEJA,EAAAA,EAAAA,GAgEM,MAhEN,EAgEM,EA/DJA,EAAAA,EAAAA,GA8DQ,QA9DR,EA8DQ,CA7DNsC,GAyBAtC,EAAAA,EAAAA,GAmCQ,QAnCR,EAmCQ,CAlCiB,GAAbO,EAAAA,OAAOgC,SAAM,WAAvB3B,EAAAA,EAAAA,IAMK,KAAA4B,EAAAC,MANL,aAOA7B,EAAAA,EAAAA,IA0BK8B,EAAAA,GAAA,CAAAC,IAAAA,IAAAC,EAAAA,EAAAA,IA1BsBrC,EAAAA,QAATsC,K,WAAlBjC,EAAAA,EAAAA,IA0BK,MA1B+B+B,IAAKE,EAAMC,MAA/C,EACE9C,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHA,EAAAA,EAAAA,GAEM,MAFN,GAEM+C,EAAAA,EAAAA,IADDF,EAAMC,MAAI,MAGjB9C,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHA,EAAAA,EAAAA,GAEM,MAFN,GAEM+C,EAAAA,EAAAA,IADDF,EAAMG,IAAE,MAGfhD,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHA,EAAAA,EAAAA,GAEI,IAFJ,GAEI+C,EAAAA,EAAAA,IADCF,EAAMI,WAAS,MAGtBjD,EAAAA,EAAAA,GASK,KATL,EASK,EANHA,EAAAA,EAAAA,GAKS,UAJPD,MAAM,kCACLsC,QAAK,GAAEf,EAAAA,gBAAgBuB,EAAMK,UAC/B,UAED,EAAAC,UAxBJ,mBAoCZ/C,EAAAA,EAAAA,IAiCOU,EAAA,CAjCDf,MAAM,kBAAgB,C,kBAC1B,IAUO,EAVPK,EAAAA,EAAAA,IAUOgD,EAAA,CAVDC,GAAG,KAAKC,GAAG,IAAIvD,MAAM,QAA3B,C,kBACE,IAQU,CAPE,QAAJY,EAAAA,OAAI,WADZE,EAAAA,EAAAA,IAQUqB,EAAA,C,MANRqB,QAAQ,UACRpB,MAAM,OACLE,QAAK,eAAEmB,EAAAA,QAAQC,KAAI,SACpB1D,MAAM,QALR,C,kBAMC,IAED,M,QARA,kB,MAWU,UAAJY,EAAAA,MAAwB,UAAJA,EAAAA,OAAI,WADhCE,EAAAA,EAAAA,IAoBOuC,EAAA,C,MAlBLC,GAAG,KACHK,GAAG,IACH3D,MAAM,6CAJR,C,kBAME,IAOU,EAPVK,EAAAA,EAAAA,IAOU8B,EAAA,CANRX,KAAK,SACLxB,MAAM,uBACNoC,MAAM,SACLE,QAAOf,EAAAA,OAJV,C,kBAKC,IAED,M,KAPA,gBAQAlB,EAAAA,EAAAA,IAKU8B,EAAA,CALDX,KAAK,SAASY,MAAM,OAAOpC,MAAM,wBAA1C,C,kBACE,IAEM,CAFKQ,EAAAA,UAAAA,EAAAA,EAAAA,OAAXK,EAAAA,EAAAA,IAEM,MAAA+C,EAAA,EADJvD,EAAAA,EAAAA,IAAiDwD,EAAA,CAAvCzB,MAAM,QAAQC,KAAK,KAAKrC,MAAM,SACpC,OAFN,WAGAa,EAAAA,EAAAA,IAAoB,IAAAiD,EAAV,c,iBAlBd,kB,cA7JJ,mB,gBAVJ,I,2CAuMF,GACEC,WAAY,CAAEC,QAAF,IAAWC,eAAAA,EAAAA,IACvBC,MAAO,CAAC,OAAQ,SAChBC,OACE,MAAO,CACLC,KAAMC,KAAKC,eACXC,WAAW,EACXC,SAAS,EACTC,eAAgB,KAChBC,cAAe,GACfC,cAAe,KACfxB,QAAS,KACTyB,aAAc,GACdC,oBAAqB,GACrBC,SAAU,GACVC,OAAQ,KAGZC,MAAO,CACLP,eAAgB,SAAUQ,GACpBA,IACFZ,KAAKD,KAAKc,eAAiBD,EAAIxD,KAGnCkD,cAAe,SAAUM,GACnBA,IACFZ,KAAKlB,QAAU8B,EAAI9B,WAYzBgC,gBAME,GALAd,KAAKD,KAAK1C,MAAQ0D,aAAa1D,MAG/B2C,KAAKK,oBAAsBL,KAAKgB,OAAOC,SAAS,2BAE/B,UAAbjB,KAAKkB,KACPlB,KAAKO,mBAAqBP,KAAKgB,OAAOC,SAAS,gBAC/CjB,KAAKQ,oBAAsBR,KAAKO,kBAC3B,GAAiB,UAAbP,KAAKkB,KAAkB,CAChClB,KAAKG,SAAU,EACfH,KAAKO,mBAAqBP,KAAKgB,OAAOC,SAAS,0BACzCjB,KAAKmB,cAEX,MAAMC,EAAapB,KAAKK,cAAcgB,QAAQC,GACrCA,EAAElE,IAAM4C,KAAKD,KAAKc,iBAE3Bb,KAAKI,eAAiBgB,EAAW,GAEjCpB,KAAKS,SAAS3B,QACXyC,MAAM,KACNC,KAAKC,GAAMC,OAAOD,KAClBE,SAASC,IACR5B,KAAK6B,SAASD,QAItBE,QAAS,CACPC,kBAAiB,MAAEC,EAAF,UAASnD,IACxB,MAAQ,GAAEmD,OAAWnD,KAGvBgD,SAAS/C,GAEP,MAAML,EAAQuB,KAAKO,aAAac,QAAQY,GAC/BA,EAAEnD,SAAWA,IACnB,GAOGoD,EAAI,CACRpD,QAASL,EAAMK,QACfJ,KAAMD,EAAM0D,UACZvD,GAAIH,EAAM2D,UACVvD,UAAWJ,EAAMI,WAEnBmB,KAAKU,OAAOrB,KAAK6C,GACjBlC,KAAKD,KAAKsC,UAAUhD,KAAK6C,EAAEpD,SAE3BkB,KAAKQ,oBAAsBR,KAAKO,aAAac,QAAQiB,IAC3CtC,KAAKD,KAAKsC,UAAUE,SAASD,EAAGxD,WAM1CkB,KAAKlB,QAAU,KACfkB,KAAKM,cAAgB,MAGvBkC,gBAAgB1D,GACdkB,KAAKU,OAASV,KAAKU,OAAOW,QAAQY,GACzBA,EAAEnD,SAAWA,IAGtB,MAAM2D,EAAQzC,KAAKD,KAAKsC,UAAUK,QAAQ5D,GACtC2D,GAAS,GACXzC,KAAKD,KAAKsC,UAAUM,OAAOF,EAAO,GAGpCzC,KAAKQ,oBAAsBR,KAAKO,aAAac,QAAQiB,IAC3CtC,KAAKD,KAAKsC,UAAUE,SAASD,EAAGxD,YAW5CgC,eACE,MAAM8B,EAAa5C,KAAK6C,MAAMC,mBAAmB9C,KAAKD,MAKtD,GAAK6C,GAAoC,GAAtB5C,KAAKU,OAAOvC,OAExB,CACL6B,KAAKE,WAAY,EAEjB,MAAM6C,EAAiB/C,KAAKgD,mBAE5B,IACE,GAAiB,UAAbhD,KAAKkB,KAAkB,CACzBlB,KAAKG,SAAU,EAEf,MAAM8C,QAAiBC,GAAAA,CAAM,CAC3BC,OAAQ,OACRC,QAASpD,KAAKqD,YACdC,IAAK,WACLxD,KAAMiD,EACNQ,OAAQ,CACNC,MAAOzC,aAAa0C,QAAQ,YAIT,KAAnBR,EAASS,OACX1D,KAAK2D,MAAQ,wBAEb3D,KAAKG,SAAU,EACfH,KAAK4D,QAAQvE,KAAK,QAClBW,KAAK6D,aAAa,iCAEf,GAAiB,UAAb7D,KAAKkB,KAAkB,CAChClB,KAAKG,SAAU,EAEf,MAAM8C,QAAiBC,GAAAA,CAAM,CAC3BC,OAAQ,OACRC,QAASpD,KAAKqD,YACdC,IAAM,YAAWtD,KAAKlD,QACtBgD,KAAMiD,EACNQ,OAAQ,CACNC,MAAOzC,aAAa0C,QAAQ,YAIT,KAAnBR,EAASS,OACX1D,KAAK2D,MAAQ,sBAEb3D,KAAKG,SAAU,EACfH,KAAK4D,QAAQvE,KAAK,QAClBW,KAAK6D,aAAa,2BAGtB,MAAOF,GACPG,YAAW,KACT9D,KAAKG,SAAU,EACfH,KAAK+D,WAAW,wCACf,WApDL/D,KAAKgE,aAAa,kCAyDtBC,QACEjE,KAAKD,KAAOC,KAAKC,eACjBD,KAAKE,WAAY,EAEjBF,KAAKI,eAAiB,KACtBJ,KAAKQ,oBAAsBR,KAAKO,aAChCP,KAAKU,OAAS,IAGhBT,eACE,MAAO,CACL5C,MAAO,KACPE,QAAS,KACTsD,eAAgB,KAChBwB,UAAW,KAIfW,mBACE,MAAMkB,EAAK,IAAIC,SASf,MARiB,UAAbnE,KAAKkB,MACPgD,EAAGE,OAAO,UAAW,OAEvBF,EAAGE,OAAO,QAASpE,KAAKD,KAAK1C,OAC7B6G,EAAGE,OAAO,UAAWpE,KAAKD,KAAKxC,SAC/B2G,EAAGE,OAAO,iBAAkBpE,KAAKD,KAAKc,gBACtCqD,EAAGE,OAAO,UAAWpE,KAAKD,KAAKsC,UAAUgC,YACzCH,EAAGE,OAAO,MAAOrD,aAAa0C,QAAQ,QAC/BS,GAGTpD,oBACE,IACE,MAAMmC,QAAiBC,GAAAA,CAAM,CAC3BC,OAAQ,MACRC,QAASpD,KAAKqD,YACdC,IAAM,YAAWtD,KAAKlD,QACtByG,OAAQ,CACNC,MAAOzC,aAAa0C,QAAQ,YAIhCzD,KAAKS,eAAiBwC,EAASnD,KAER,KAAnBmD,EAASS,SACX1D,KAAKD,KAAO,CACV1C,MAAO2C,KAAKS,SAASpD,MACrBE,QAASyC,KAAKS,SAASlD,QACvBsD,eAAgBb,KAAKS,SAASI,eAC9BwB,UAAW,KAMfrC,KAAKG,SAAU,EACf,MAAOwD,GACP3D,KAAK+D,WAAWJ,EAAMW,SACtBtE,KAAKG,SAAU,IAInB0D,aAAaU,GACXvE,KAAKwE,OAAOC,KAAK,CACfH,QAASC,EACTpH,KAAM,UACNuH,SAAU,YACVC,SAAU,OAIdZ,WAAWQ,GACTvE,KAAKwE,OAAOC,KAAK,CACfH,QAASC,EACTpH,KAAM,QACNuH,SAAU,YACVC,SAAU,OAIdX,aAAaO,GACXvE,KAAKwE,OAAOC,KAAK,CACfH,QAASC,EACTpH,KAAM,UACNuH,SAAU,YACVC,SAAU,S,QCpdlB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/views/modules/kap/Form.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/modules/kap/Form.vue?805e"],"sourcesContent":["<template>\n  <Loading v-model:active=\"loading\" :is-full-page=\"true\" />\n  <CCard class=\"mb-4\">\n    <CCardBody class=\"p-4\">\n      <h4 v-if=\"mode == 'create'\" class=\"h4 mb-4\">Tambah KAP</h4>\n      <h4 v-else-if=\"mode == 'update'\" class=\"h4 mb-4\">Edit KAP</h4>\n      <CRow class=\"mb-3\" v-if=\"mode == 'update'\">\n        <CFormLabel for=\"tahun\" class=\"col-sm-3 col-form-label\">ID </CFormLabel>\n        <div class=\"col-sm-2\">\n          <CFormInput v-model=\"editData.idKap\" readonly />\n        </div>\n      </CRow>\n      <CForm @submit.prevent=\"submit\">\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"tahun\" class=\"col-sm-3 col-form-label\"\n            >Tahun <span class=\"text-red-500\">*</span></CFormLabel\n          >\n          <div class=\"col-sm-2\">\n            <CFormInput\n              type=\"number\"\n              id=\"tahun\"\n              v-model=\"form.tahun\"\n              readonly\n              required\n            />\n          </div>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"nama-kap\" class=\"col-sm-3 col-form-label\"\n            >Nama KAP <span class=\"text-red-500\">*</span></CFormLabel\n          >\n          <div class=\"col-sm-9\">\n            <CFormInput\n              type=\"text\"\n              id=\"nama-kap\"\n              v-model=\"form.namaKap\"\n              required\n            />\n          </div>\n        </CRow>\n        <CRow class=\"mb-4\">\n          <CFormLabel for=\"pj-kap\" class=\"col-sm-3 col-form-label\"\n            >Unit Kerja PJ KAP <span class=\"text-red-500\">*</span></CFormLabel\n          >\n          <div class=\"col-sm-9\">\n            <VueMultiselect\n              id=\"pj-kap\"\n              v-model=\"selectedRendal\"\n              :options=\"optionsRendal\"\n              placeholder=\"Pilih PJ KAP\"\n              label=\"deskripsi\"\n              track-by=\"deskripsi\"\n              :custom-label=\"viewSelectSearch\"\n            >\n            </VueMultiselect>\n          </div>\n        </CRow>\n        <CRow class=\"mb-4 view-form\">\n          <div class=\"flex col-sm-12\">\n            <VueMultiselect\n              id=\"nama-topik\"\n              v-model=\"selectedTopik\"\n              :options=\"currentOptionsTopik\"\n              placeholder=\"Pilih Topik\"\n              label=\"namaTopik\"\n              track-by=\"namaTopik\"\n              deselectLabel=\"\"\n              selectLabel=\"\"\n            >\n            </VueMultiselect>\n            <CButton\n              type=\"button\"\n              class=\"ml-3 px-4 text-white\"\n              color=\"success\"\n              size=\"sm\"\n              @click=\"addTopik(idTopik)\"\n            >\n              Tambah\n            </CButton>\n          </div>\n        </CRow>\n        <div class=\"flex flex-col\">\n          <div class=\"-my-2 sm:-mx-6 lg:-mx-8\">\n            <div\n              class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\"\n            >\n              <div class=\"shadow-sm border-b border-gray-200 sm:rounded-lg\">\n                <table class=\"w-full divide-y divide-gray-200\">\n                  <thead class=\"bg-gray-50\">\n                    <tr>\n                      <th\n                        scope=\"col\"\n                        class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Nama Topik\n                      </th>\n                      <th\n                        scope=\"col\"\n                        class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        PJ Topik\n                      </th>\n                      <th\n                        scope=\"col\"\n                        class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        Informasi Topik Yang Diharapkan\n                      </th>\n                      <th scope=\"col\" class=\"relative px-6 py-3\">\n                        <span class=\"sr-only\">Hapus</span>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody class=\"bg-white divide-y divide-gray-200\">\n                    <tr v-if=\"topiks.length == 0\">\n                      <td colspan=\"4\">\n                        <div class=\"py-3 text-center text-gray-700\">\n                          Belum ada data\n                        </div>\n                      </td>\n                    </tr>\n                    <tr v-else v-for=\"topik in topiks\" :key=\"topik.nama\">\n                      <td class=\"px-6 py-2\">\n                        <div class=\"text-sm text-gray-900\">\n                          {{ topik.nama }}\n                        </div>\n                      </td>\n                      <td class=\"px-6 py-2 whitespace-nowrap\">\n                        <div class=\"text-sm text-gray-900\">\n                          {{ topik.pj }}\n                        </div>\n                      </td>\n                      <td class=\"px-6 py-2\">\n                        <p class=\"text-sm break-normal text-gray-900\">\n                          {{ topik.deskripsi }}\n                        </p>\n                      </td>\n                      <td\n                        class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\"\n                      >\n                        <button\n                          class=\"text-red-600 hover:text-red-900\"\n                          @click=\"hapusTopikLokal(topik.idTopik)\"\n                        >\n                          Hapus\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- <pre> topik {{ topiks }}</pre> -->\n        <!-- <pre> topik {{ form.dataTopik }}</pre> -->\n\n        <CRow class=\"mt-8 view-form\">\n          <CCol sm=\"12\" lg=\"6\" class=\"mb-3\">\n            <CButton\n              v-if=\"mode != 'view'\"\n              variant=\"outline\"\n              color=\"dark\"\n              @click=\"$router.push('/kap')\"\n              class=\"px-5\"\n            >\n              Batal\n            </CButton>\n          </CCol>\n          <CCol\n            v-if=\"mode == 'create' || mode == 'update'\"\n            sm=\"12\"\n            md=\"6\"\n            class=\"flex content-center justify-end pr-3 mb-3\"\n          >\n            <CButton\n              type=\"button\"\n              class=\"ml-1 px-5 text-white\"\n              color=\"danger\"\n              @click=\"reset\"\n            >\n              Reset\n            </CButton>\n            <CButton type=\"submit\" color=\"info\" class=\"px-5 ml-2 text-white\">\n              <div v-if=\"loading\">\n                <CSpinner color=\"white\" size=\"sm\" class=\"mr-2\" /> Simpan\n              </div>\n              <p v-else>Simpan</p>\n            </CButton>\n          </CCol>\n        </CRow>\n      </CForm>\n    </CCardBody>\n  </CCard>\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueMultiselect from 'vue-multiselect'\nimport Loading from 'vue3-loading-overlay'\n\nexport default {\n  components: { Loading, VueMultiselect },\n  props: ['mode', 'idKap'],\n  data() {\n    return {\n      form: this.getEmptyForm(),\n      submitted: false,\n      loading: false,\n      selectedRendal: null,\n      optionsRendal: [],\n      selectedTopik: null,\n      idTopik: null,\n      optionsTopik: [],\n      currentOptionsTopik: [],\n      editData: {},\n      topiks: [],\n    }\n  },\n  watch: {\n    selectedRendal: function (val) {\n      if (val) {\n        this.form.idUnitKerjaKap = val.id\n      }\n    },\n    selectedTopik: function (val) {\n      if (val) {\n        this.idTopik = val.idTopik\n      }\n    },\n    // topiks: {\n    //   handler(val) {\n    //     if (val.length > 0) {\n    //       this.form.dataTopik = val.map((v) => v.idTopik)\n    //     }\n    //   },\n    //   deep: true,\n    // },\n  },\n  async mounted() {\n    this.form.tahun = localStorage.tahun\n\n    // this.optionsRendal = await this.$store.dispatch('loadListRendal')\n    this.optionsRendal = await this.$store.dispatch('loadListUnitKontributor')\n\n    if (this.mode == 'create') {\n      this.optionsTopik = await this.$store.dispatch('loadTopikKap')\n      this.currentOptionsTopik = this.optionsTopik\n    } else if (this.mode == 'update') {\n      this.loading = true\n      this.optionsTopik = await this.$store.dispatch('loadTopikKapEdit')\n      await this.loadKapById()\n\n      const dataRendal = this.optionsRendal.filter((r) => {\n        return r.id == this.form.idUnitKerjaKap\n      })\n      this.selectedRendal = dataRendal[0]\n\n      this.editData.idTopik\n        .split(',')\n        .map((a) => Number(a))\n        .forEach((el) => {\n          this.addTopik(el)\n        })\n    }\n  },\n  methods: {\n    viewSelectSearch({ alias, deskripsi }) {\n      return `${alias} - ${deskripsi}`\n    },\n\n    addTopik(idTopik) {\n      //ambil topik yg dipilih\n      const topik = this.optionsTopik.filter((t) => {\n        return t.idTopik == idTopik\n      })[0]\n\n      // console.log('TOPIKS')\n      // console.log(idTopik)\n      // console.log(this.optionsTopik)\n      // console.log(topik)\n\n      const d = {\n        idTopik: topik.idTopik,\n        nama: topik.namaTopik,\n        pj: topik.unitKerja,\n        deskripsi: topik.deskripsi,\n      }\n      this.topiks.push(d)\n      this.form.dataTopik.push(d.idTopik)\n\n      this.currentOptionsTopik = this.optionsTopik.filter((op) => {\n        return !this.form.dataTopik.includes(op.idTopik)\n      })\n      // console.log('OPTIONS TOPIK')\n      // console.log(this.optionsTopik)\n      // console.log(this.currentOptionsTopik)\n      // console.log(this.form.dataTopik)\n      this.idTopik = null\n      this.selectedTopik = null\n    },\n\n    hapusTopikLokal(idTopik) {\n      this.topiks = this.topiks.filter((t) => {\n        return t.idTopik != idTopik\n      })\n\n      const index = this.form.dataTopik.indexOf(idTopik)\n      if (index > -1) {\n        this.form.dataTopik.splice(index, 1)\n      }\n\n      this.currentOptionsTopik = this.optionsTopik.filter((op) => {\n        return !this.form.dataTopik.includes(op.idTopik)\n      })\n\n      // console.log('OPTIONS TOPIK')\n      // console.log(this.optionsTopik)\n      // console.log('Current Options Topik')\n      // console.log(this.currentOptionsTopik)\n      // console.log('Form Data TOPIK')\n      // console.log(this.form.dataTopik)\n    },\n\n    async submit() {\n      const isSomeNull = this.$func.isNullOfObjElement(this.form)\n\n      // console.log('FOORM')\n      // console.log(this.form)\n\n      if (!isSomeNull || this.topiks.length == 0) {\n        this.toastWarning('Lengkapi data sebelum submit!')\n      } else {\n        this.submitted = true\n\n        const resultFormData = this.appendToFormData()\n\n        try {\n          if (this.mode == 'create') {\n            this.loading = true\n\n            const response = await axios({\n              method: 'POST',\n              baseURL: this.$apiAddress,\n              url: '/api/kap',\n              data: resultFormData,\n              params: {\n                token: localStorage.getItem('token'),\n              },\n            })\n\n            if (response.status != 200) {\n              this.error = 'Gagal menyimpan data'\n            } else {\n              this.loading = false\n              this.$router.push('/kap')\n              this.toastSuccess('Berhasil menyimpan data')\n            }\n          } else if (this.mode == 'update') {\n            this.loading = true\n\n            const response = await axios({\n              method: 'POST',\n              baseURL: this.$apiAddress,\n              url: `/api/kap/${this.idKap}`,\n              data: resultFormData,\n              params: {\n                token: localStorage.getItem('token'),\n              },\n            })\n\n            if (response.status != 200) {\n              this.error = 'Gagal merubah data'\n            } else {\n              this.loading = false\n              this.$router.push('/kap')\n              this.toastSuccess('Berhasil merubah data')\n            }\n          }\n        } catch (error) {\n          setTimeout(() => {\n            this.loading = false\n            this.toastError('Terjadi kesalahan saat submit data')\n          }, 500)\n        }\n      }\n    },\n\n    reset() {\n      this.form = this.getEmptyForm()\n      this.submitted = false\n\n      this.selectedRendal = null\n      this.currentOptionsTopik = this.optionsTopik\n      this.topiks = []\n    },\n\n    getEmptyForm() {\n      return {\n        tahun: null,\n        namaKap: null,\n        idUnitKerjaKap: null,\n        dataTopik: [],\n      }\n    },\n\n    appendToFormData() {\n      const fd = new FormData()\n      if (this.mode == 'update') {\n        fd.append('_method', 'PUT')\n      }\n      fd.append('tahun', this.form.tahun)\n      fd.append('namaKap', this.form.namaKap)\n      fd.append('idUnitKerjaKap', this.form.idUnitKerjaKap)\n      fd.append('idTopik', this.form.dataTopik.toString())\n      fd.append('nip', localStorage.getItem('nip'))\n      return fd\n    },\n\n    async loadKapById() {\n      try {\n        const response = await axios({\n          method: 'GET',\n          baseURL: this.$apiAddress,\n          url: `/api/kap/${this.idKap}`,\n          params: {\n            token: localStorage.getItem('token'),\n          },\n        })\n\n        this.editData = await response.data\n\n        if (response.status == 200) {\n          this.form = {\n            tahun: this.editData.tahun,\n            namaKap: this.editData.namaKap,\n            idUnitKerjaKap: this.editData.idUnitKerjaKap,\n            dataTopik: [],\n          }\n          // console.log('DETAIL KAP')\n          // console.log(this.form)\n        }\n\n        this.loading = false\n      } catch (error) {\n        this.toastError(error.message)\n        this.loading = false\n      }\n    },\n\n    toastSuccess(msg) {\n      this.$toast.open({\n        message: msg,\n        type: 'success',\n        position: 'top-right',\n        duration: 3000,\n      })\n    },\n\n    toastError(msg) {\n      this.$toast.open({\n        message: msg,\n        type: 'error',\n        position: 'top-right',\n        duration: 3000,\n      })\n    },\n\n    toastWarning(msg) {\n      this.$toast.open({\n        message: msg,\n        type: 'warning',\n        position: 'top-right',\n        duration: 3000,\n      })\n    },\n  },\n}\n</script>\n\n<style></style>\n","import { render } from \"./Form.vue?vue&type=template&id=34080f00\"\nimport script from \"./Form.vue?vue&type=script&lang=js\"\nexport * from \"./Form.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\simarenpkpt\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","colspan","_hoisted_24","_createVNode","_component_Loading","active","$data","$event","_component_CCard","_component_CCardBody","$props","_createElementBlock","_createBlock","_component_CRow","_component_CFormLabel","for","_component_CFormInput","idKap","readonly","_component_CForm","onSubmit","$options","type","id","tahun","required","namaKap","_component_VueMultiselect","options","placeholder","label","deselectLabel","selectLabel","_component_CButton","color","size","onClick","_hoisted_21","length","_hoisted_23","_hoisted_25","_Fragment","key","_renderList","topik","nama","_toDisplayString","pj","deskripsi","idTopik","_hoisted_33","_component_CCol","sm","lg","variant","_ctx","push","md","_hoisted_36","_component_CSpinner","_hoisted_38","components","Loading","VueMultiselect","props","data","form","this","getEmptyForm","submitted","loading","selectedRendal","optionsRendal","selectedTopik","optionsTopik","currentOptionsTopik","editData","topiks","watch","val","idUnitKerjaKap","async","localStorage","$store","dispatch","mode","loadKapById","dataRendal","filter","r","split","map","a","Number","forEach","el","addTopik","methods","viewSelectSearch","alias","t","d","namaTopik","unitKerja","dataTopik","op","includes","hapusTopikLokal","index","indexOf","splice","isSomeNull","$func","isNullOfObjElement","resultFormData","appendToFormData","response","axios","method","baseURL","$apiAddress","url","params","token","getItem","status","error","$router","toastSuccess","setTimeout","toastError","toastWarning","reset","fd","FormData","append","toString","message","msg","$toast","open","position","duration","__exports__","render"],"sourceRoot":""}